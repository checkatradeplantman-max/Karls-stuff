<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>MotoRefurb</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#111111">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <style>
    :root { --bg:#0f0f0f; --card:#191919; --ink:#eaeaea; --muted:#a9a9a9; --accent:#30d158; --danger:#ff453a; --warn:#ffd60a; --link:#64d2ff; }
    html, body { margin:0; padding:0; background:var(--bg); color:var(--ink); font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
    header { position:sticky; top:0; background:#111; display:flex; gap:8px; align-items:center; padding:10px 12px; border-bottom:1px solid #222; z-index:10; }
    header h1 { font-size:18px; margin:0; flex:1; }
    header .pill { border:1px solid #333; border-radius:999px; padding:6px 10px; background:#161616; color:var(--ink); text-decoration:none; font-size:14px; }
    main { padding:12px; }
    .tabs { display:flex; gap:8px; margin-bottom:12px; flex-wrap:wrap; }
    .tab { padding:8px 12px; border-radius:999px; background:#1b1b1b; border:1px solid #2a2a2a; cursor:pointer; }
    .tab.active { background:#242424; border-color:#3a3a3a; box-shadow: inset 0 0 0 1px #333; }
    .grid { display:grid; grid-template-columns:1fr; gap:10px; }
    .card { background:var(--card); border:1px solid #262626; border-radius:12px; padding:12px; }
    .row { display:flex; gap:8px; align-items:center; }
    input, select, textarea, button { width:100%; padding:10px; border-radius:10px; border:1px solid #2a2a2a; background:#141414; color:var(--ink); }
    textarea { min-height:70px; }
    button.primary { background:linear-gradient(180deg, #2ecc71, #27ae60); border:none; color:#000; font-weight:600; }
    button.ghost { background:#171717; }
    .list { display:flex; flex-direction:column; gap:8px; }
    .item { background:#151515; border:1px solid #2a2a2a; border-radius:10px; padding:10px; }
    .muted { color:var(--muted); font-size:12px; }
    .tag { display:inline-block; padding:2px 8px; border-radius:999px; border:1px solid #333; background:#1c1c1c; font-size:12px; margin-right:6px; }
    .danger { color:var(--danger); }
    .warn { color:var(--warn); }
    .accent { color:var(--accent); }
    .row.wrap { flex-wrap: wrap; }
    .split { display:grid; grid-template-columns: 1fr 1fr; gap:8px; }
    @media (min-width: 800px) { .grid { grid-template-columns: repeat(2, 1fr); } }
    .toolbar { display:flex; gap:8px; flex-wrap:wrap; }
    .hidden { display:none !important; }
    .thumbs { display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }
    .thumbs img { width:72px; height:72px; object-fit:cover; border-radius:8px; border:1px solid #333; }
    .footer-space { height:60px; }
    footer.install { position:fixed; bottom:12px; left:12px; right:12px; background:#141414; border:1px dashed #2a2a2a; border-radius:12px; padding:10px; display:flex; gap:8px; align-items:center; }
  </style>
</head>
<body>
  <header>
    <h1>üèçÔ∏è MotoRefurb</h1>
    <button id="exportBtn" class="pill">Export</button>
    <label class="pill">
      Import <input id="importInput" type="file" accept="application/json" style="display:none">
    </label>
    <a class="pill" href="#" id="installBtn">Install</a>
  </header>
  <main>
    <div class="tabs">
      <div class="tab active" data-tab="projects">Projects</div>
      <div class="tab" data-tab="parts">Parts</div>
      <div class="tab" data-tab="tasks">Tasks</div>
      <div class="tab" data-tab="calendar">Calendar</div>
      <div class="tab" data-tab="settings">Settings</div>
    </div>

    <section id="projects" class="grid">
      <div class="card">
        <h3>New Project</h3>
        <div class="grid">
          <input id="projTitle" placeholder="Project title (e.g., '1981 CB750 rebuild')">
          <div class="split">
            <input id="projReg" placeholder="Reg/VIN">
            <select id="projStatus">
              <option value="planning">Planning</option>
              <option value="stripping">Stripping</option>
              <option value="paint/powder">Paint/Powder</option>
              <option value="engine">Engine</option>
              <option value="reassembly">Reassembly</option>
              <option value="testing">Testing</option>
              <option value="complete">Complete</option>
            </select>
          </div>
          <textarea id="projNotes" placeholder="Notes"></textarea>
          <button id="addProject" class="primary">Add Project</button>
        </div>
      </div>
      <div class="card"><h3>Projects</h3><div id="projectList" class="list"></div></div>
    </section>

    <section id="parts" class="grid hidden">
      <div class="card">
        <h3>New Part</h3>
        <div class="grid">
          <input id="partName" placeholder="Part name (e.g., 'Front brake caliper seal kit')" />
          <div class="split">
            <select id="partProject"></select>
            <select id="partStatus">
              <option value="needed">Needed</option>
              <option value="ordered">Ordered</option>
              <option value="received">Received</option>
              <option value="installed">Installed</option>
            </select>
          </div>
          <div class="split">
            <input id="partSupplier" placeholder="Supplier (e.g., Wemoto, eBay)" />
            <input id="partPrice" type="number" step="0.01" placeholder="Price (¬£)" />
          </div>
          <div class="split">
            <input id="partQty" type="number" step="1" placeholder="Qty" />
            <input id="partDue" type="date" />
          </div>
          <textarea id="partNotes" placeholder="Notes (dimensions, alt part codes, torque, etc.)"></textarea>
          <div class="row wrap">
            <input id="partPhotos" type="file" accept="image/*" multiple capture="environment" />
          </div>
          <button id="addPart" class="primary">Add Part</button>
        </div>
      </div>
      <div class="card">
        <div class="toolbar">
          <select id="filterByProj"></select>
          <select id="filterByStatus">
            <option value="">All statuses</option>
            <option value="needed">Needed</option>
            <option value="ordered">Ordered</option>
            <option value="received">Received</option>
            <option value="installed">Installed</option>
          </select>
          <input id="searchParts" placeholder="Search parts" />
        </div>
        <div id="partList" class="list"></div>
      </div>
    </section>

    <section id="tasks" class="grid hidden">
      <div class="card">
        <h3>New Task</h3>
        <div class="grid">
          <input id="taskTitle" placeholder="Task title (e.g., 'Rebuild forks')" />
          <div class="split">
            <select id="taskProject"></select>
            <input id="taskDue" type="date" />
          </div>
          <div class="split">
            <select id="taskPriority">
              <option value="low">Low</option>
              <option value="med" selected>Medium</option>
              <option value="high">High</option>
            </select>
            <select id="taskStatus">
              <option value="todo">To-do</option>
              <option value="doing">Doing</option>
              <option value="done">Done</option>
            </select>
          </div>
          <textarea id="taskNotes" placeholder="Notes / checklist"></textarea>
          <button id="addTask" class="primary">Add Task</button>
        </div>
      </div>
      <div class="card">
        <div class="toolbar">
          <select id="filterTaskProj"></select>
          <select id="filterTaskStatus">
            <option value="">All</option>
            <option value="todo">To-do</option>
            <option value="doing">Doing</option>
            <option value="done">Done</option>
          </select>
          <input id="searchTasks" placeholder="Search tasks" />
        </div>
        <div id="taskList" class="list"></div>
      </div>
    </section>

    <section id="calendar" class="grid hidden">
      <div class="card">
        <h3>Tasks by Date</h3>
        <div class="row">
          <input id="calMonth" type="month">
          <button id="todayBtn" class="ghost">Today</button>
        </div>
        <div id="calendarList" class="list" style="margin-top:8px;"></div>
      </div>
    </section>

    <section id="settings" class="grid hidden">
      <div class="card">
        <h3>Settings</h3>
        <div class="grid">
          <label class="row" style="gap:12px;">
            <span style="width:30%;">Business name</span>
            <input id="bizName" placeholder="e.g., Rhodes Moto Refurbs" />
          </label>
          <label class="row" style="gap:12px;">
            <span style="width:30%;">Currency</span>
            <input id="currency" value="¬£" />
          </label>
          <button id="clearAll" class="danger">Danger: Wipe all data</button>
        </div>
      </div>
    </section>
    <div class="footer-space"></div>
  </main>

  <footer id="installPrompt" class="install hidden">
    <div style="flex:1;">
      <strong>Install MotoRefurb</strong><br>
      <span class="muted">Add to your Home Screen for a full-screen app.</span>
    </div>
    <button id="installPromptBtn" class="primary" style="width:auto;">Install</button>
  </footer>

  <script src="app.js"></script>
</body>
</html>
